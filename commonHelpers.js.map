{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n//https://pixabay.com/api/?key=42369519-035bfcd8f925f02ed856cad4b&q=yellow+flowers&image_type=photo&pretty=true\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '42369519-035bfcd8f925f02ed856cad4b';\n\nexport default function searchImages(q) {\n  const params = `?key=${API_KEY}&q=${q}&image_type=photo&orientation=horizontal&safesearch=true`;\n  const url = `${BASE_URL}${params}`;\n  return axios\n    .get(url)\n    .then(response => {\n      return response.data;\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n","export const galleryList = document.querySelector('.list-gallery');\nexport function showGalleryMarkup(dataArray) {\n  const markup = dataArray\n    .map(item => {\n      const {\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      } = item;\n      return ` \n    <li class = \"gallery-item\">\n        <a href=\"${largeImageURL}\"> <img src=\"${webformatURL}\" alt=\"${tags}\" />\n        <ul class = \"image-desc\">\n          <li>\n            <h3 class = \"image-desc-label\">likes</h3>\n            <p>${likes}</p>\n          </li>\n          <li>\n            <h3 class = \"image-desc-label\">views</h3>\n            <p>${views}</p>\n          </li>\n          <li>\n            <h3 class = \"image-desc-label\">comments</h3>\n            <p>${comments}</p>\n          </li>\n          <li>\n            <h3 class = \"image-desc-label\">downloads</h3>\n            <p>${downloads}</p>\n          </li>\n        </ul>\n        </a>\n      </li>\n        `;\n    })\n    .join('');\n  galleryList.insertAdjacentHTML('beforeend', markup);\n}\n","import searchImages from './js/pixabay-api';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { showGalleryMarkup, galleryList } from './js/render-functions';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst simpleLightbox = new SimpleLightbox('.list-gallery a', {\n  /* options */\n});\n\nconst textInput = document.querySelector('.form-input');\nconst searchForm = document.querySelector('#form');\nconst loaderElem = document.querySelector('.loader');\n\nsearchForm.addEventListener('submit', onSearch);\n\nfunction onSearch(event) {\n  event.preventDefault();\n  const value = textInput.value.trim();\n  if (!value) {\n    console.log('заповніть поле');\n    return;\n  }\n  console.dir(textInput);\n  showLoader();\n  searchImages(value)\n    .then(data => {\n      console.log(data);\n      if (!data.hits.length) {\n        iziToast.error({\n          position: 'topCenter',\n          backgroundColor: 'red',\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n      galleryList.innerHTML = '';\n      showGalleryMarkup(data.hits);\n      simpleLightbox.refresh();\n    })\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => {\n      hideLoader();\n    });\n}\nfunction showLoader() {\n  loaderElem.classList.remove('hidden');\n}\nfunction hideLoader() {\n  loaderElem.classList.add('hidden');\n}\n"],"names":["BASE_URL","API_KEY","searchImages","q","params","url","axios","response","error","galleryList","showGalleryMarkup","dataArray","markup","item","webformatURL","largeImageURL","tags","likes","views","comments","downloads","simpleLightbox","SimpleLightbox","textInput","searchForm","loaderElem","onSearch","event","value","showLoader","data","iziToast","hideLoader"],"mappings":"owBAEA,MAAMA,EAAW,2BACXC,EAAU,qCAED,SAASC,EAAaC,EAAG,CACtC,MAAMC,EAAS,QAAQH,CAAO,MAAME,CAAC,2DAC/BE,EAAM,GAAGL,CAAQ,GAAGI,CAAM,GAChC,OAAOE,EACJ,IAAID,CAAG,EACP,KAAKE,GACGA,EAAS,IACjB,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL,CChBO,MAAMC,EAAc,SAAS,cAAc,eAAe,EAC1D,SAASC,EAAkBC,EAAW,CAC3C,MAAMC,EAASD,EACZ,IAAIE,GAAQ,CACX,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EACJ,MAAO;AAAA;AAAA,mBAEME,CAAa,gBAAgBD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,iBAIzDC,CAAK;AAAA;AAAA;AAAA;AAAA,iBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,iBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,iBAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,SAM1B,CAAK,EACA,KAAK,EAAE,EACVX,EAAY,mBAAmB,YAAaG,CAAM,CACpD,CCjCA,MAAMS,EAAiB,IAAIC,EAAe,kBAAmB,CAE7D,CAAC,EAEKC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAa,SAAS,cAAc,SAAS,EAEnDD,EAAW,iBAAiB,SAAUE,CAAQ,EAE9C,SAASA,EAASC,EAAO,CACvBA,EAAM,eAAc,EACpB,MAAMC,EAAQL,EAAU,MAAM,KAAI,EAClC,GAAI,CAACK,EAAO,CACV,QAAQ,IAAI,gBAAgB,EAC5B,MACD,CACD,QAAQ,IAAIL,CAAS,EACrBM,IACA3B,EAAa0B,CAAK,EACf,KAAKE,GAAQ,CACZ,QAAQ,IAAIA,CAAI,EACXA,EAAK,KAAK,QACbC,EAAS,MAAM,CACb,SAAU,YACV,gBAAiB,MACjB,MAAO,QACP,QACE,0EACZ,CAAS,EAEHtB,EAAY,UAAY,GACxBC,EAAkBoB,EAAK,IAAI,EAC3BT,EAAe,QAAO,CAC5B,CAAK,EACA,MAAMb,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,CACbwB,GACN,CAAK,CACL,CACA,SAASH,GAAa,CACpBJ,EAAW,UAAU,OAAO,QAAQ,CACtC,CACA,SAASO,GAAa,CACpBP,EAAW,UAAU,IAAI,QAAQ,CACnC"}